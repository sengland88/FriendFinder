<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=h1, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Survey</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</head>
<body>
    <h1>survey page is loaded</h1>

    <div class="container">

      <h1>HEY!</h1>

    <form method="POST" role="form" >

        <div class="form-group">
          <label>Name</label>
          <input type="text" class="form-control" id="name">
        </div>

        <div class="form-group">
          <label>Photo</label>
          <input type="text" class="form-control" id="photo">
        </div>

        <div class="form-group">
          <label>Sunsets are the best.</label>
          <select required class="custom-select custom-select-lg mb-3" id="q1">
            <option value="0"></option>
            <option value="1">Agree</option>
            <option value="2">Neither</option>
            <option value="3">Disagree</option>
          </select>
        </div>

        <div class="form-group">
          <label>The holiday season is overrated.</label>
          <select required class="custom-select custom-select-lg mb-3" id="q2">
            <option value="0"></option>
            <option value="1">Agree</option>
            <option value="2">Neither</option>
            <option value="3">Disagree</option>
          </select>
        </div>

        <div class="form-group">
          <label>Warm weather over cold weather always.</label>
          <select  required class="custom-select custom-select-lg mb-3" id="q3">
            <option value="0"></option>
            <option value="1">Agree</option>
            <option value="2">Neither</option>
            <option value="3">Disagree</option>
          </select>
        </div>

        <div class="form-group">
          <label>Cooking is a hobby.</label>
          <select required class="custom-select custom-select-lg mb-3" id="q4">
            <option value="0"></option>
            <option value="1">Agree</option>
            <option value="2">Neither</option>
            <option value="3">Disagree</option>
          </select>
        </div>

        <div class="form-group">
          <label>Laugher keeps you young.</label>
          <select required class="custom-select custom-select-lg mb-3" id="q5">
            <option value="0"></option>
            <option value="1">Agree</option>
            <option value="2">Neither</option>
            <option value="3">Disagree</option>
          </select>
        </div>

        <div class="form-group">
          <label>Small talk is annoying.</label>
          <select required class="custom-select custom-select-lg mb-3" id="q6">
            <option value="0"></option>
            <option value="1">Agree</option>
            <option value="2">Neither</option>
            <option value="3">Disagree</option>
          </select>
        </div>

        <div class="form-group">
          <label>Coffee is nasty</label>
          <select required class="custom-select custom-select-lg mb-3" id="q7">
            <option value="0"></option>
            <option value="1">Agree</option>
            <option value="2">Neither</option>
            <option value="3">Disagree</option>
          </select>
        </div>

        <div class="form-group">
          <label>Experiences are better than things.</label>
          <select required class="custom-select custom-select-lg mb-3" id="q8">
            <option value="0"></option>
            <option value="1">Agree</option>
            <option value="2">Neither</option>
            <option value="3">Disagree</option>
          </select>
        </div>


        <div class="form-group">
          <label>Exercise is fun!</label>
          <select required class="custom-select custom-select-lg mb-3" id="q9">
            <option value="0"></option>
            <option value="1">Agree</option>
            <option value="2">Neither</option>
            <option value="3">Disagree</option>
          </select>
        </div>

        <div class="form-group">
          <label>Video games are a waste of time.</label>
          <select required class="custom-select custom-select-lg mb-3" id="q10">
            <option value="0"></option>
            <option value="1">Agree</option>
            <option value="2">Neither</option>
            <option value="3">Disagree</option>
          </select>
        </div>

      </form>
      <br>
      <div class="text-right">
        <button type="submit" class="btn btn-primary btn-md" id="add-btn"></span> Submit Reservation</button>
      </div>
    </div>

    </div>

    <script>
    
    $("#add-btn").on("click", function(event) {
    event.preventDefault();
    
          var newFriend = {
            name: $("#name").val().trim(),
            photo: $("#photo").val().trim(),
            scores: [
              $("#q1").val(),
              $("#q2").val(),
              $("#q3").val(),
              $("#q4").val(),
              $("#q5").val(),
              $("#q6").val(),
              $("#q7").val(),
              $("#q8").val(),
              $("#q9").val(),
              $("#q10").val()
              ]
            };

            if (newFriend.scores.includes("0")) {
              alert("Please fill in all answers")
              return
            }
        
          $.post("/api/friends", newFriend)
            .then(function(data) {
              console.log("survey.html", data);
            });
  
  });
    
    </script>
</body>
</html>